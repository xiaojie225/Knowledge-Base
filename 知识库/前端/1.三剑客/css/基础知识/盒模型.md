# 盒模型精华知识点

## 一、核心概念精炼

### 1. 盒模型组成
CSS盒模型由内到外依次为：
- **Content** - 内容区域
- **Padding** - 内边距
- **Border** - 边框
- **Margin** - 外边距

### 2. box-sizing属性

**content-box（标准盒模型）**
- 默认值
- width/height仅指content
- 实际宽度 = width + padding×2 + border×2

**border-box（IE盒模型）**
- width/height包含content + padding + border
- 实际宽度 = width（已包含padding和border）

### 3. 尺寸获取方法

| 属性 | 包含内容 | 计算公式 |
|------|---------|---------|
| offsetWidth | content + padding + border | 不含margin |
| clientWidth | content + padding | 不含border和滚动条 |
| scrollWidth | 完整内容宽度 | 含滚动隐藏部分 |

### 4. 实际应用

**现代开发推荐全局设置：**
```css
* {
    box-sizing: border-box;
}
```

**优势：**
- 响应式布局更直观
- 百分比宽度计算简单
- 避免尺寸计算错误

---

## 三、10道核心面试题

### 1. 什么是CSS盒模型？其组成部分有哪些？
**答案**：盒模型描述元素在页面中的空间占用。由内到外包括：Content（内容）、Padding（内边距）、Border（边框）、Margin（外边距）。

---

### 2. `box-sizing: border-box` 与 `content-box` 的本质区别？
**答案**：
- **content-box**：width只包含内容，总宽度 = width + padding + border
- **border-box**：width包含内容+内边距+边框，总宽度 = width

---

### 3. 若div设置 `width: 100px; padding: 10px; border: 1px; box-sizing: border-box`，offsetWidth是多少？
**答案**：100px。因为border-box下width已包含padding和border。

---

### 4. offsetWidth、clientWidth、scrollWidth的区别？
**答案**：
- **offsetWidth** = border + padding + content
- **clientWidth** = padding + content（不含border）
- **scrollWidth** = 完整内容宽度（含滚动隐藏部分）

---

### 5. 将上题改为 `box-sizing: content-box`，offsetWidth变为多少？
**答案**：122px。计算：100（width）+ 20（padding）+ 2（border）= 122px

---

### 6. margin是否影响offsetWidth？为什么？
**答案**：不影响。offsetWidth仅计算border + padding + content，margin作为外边距不计入元素自身宽度。

---

### 7. 实际开发中如何选择box-sizing？
**答案**：
- **推荐border-box**：响应式布局更直观，设置的宽度即最终宽度
- **全局重置**：`* { box-sizing: border-box; }`
- **特殊场景**：需要精确控制内容区域时用content-box

---

### 8. 用JavaScript获取元素所有尺寸的方法？
**答案**：
```javascript
const el = document.getElementById('box');
el.offsetWidth;        // 含border
el.clientWidth;        // 不含border
el.scrollWidth;        // 含滚动内容
getComputedStyle(el).width;  // CSS设置值
```

---

### 9. 什么是margin合并？如何避免？
**答案**：相邻块级元素的垂直margin取较大值合并。避免方法：
- 使用padding替代
- 创建BFC（`overflow: hidden`）
- 使用flexbox布局
- 添加border或padding分隔

---

### 10. 为什么响应式设计推荐border-box？
**答案**：使用border-box时，设置 `width: 50%` 无论padding/border多大，元素始终占父容器50%，便于创建网格布局和百分比计算。

---

## 四、关键代码示例

```css
/* 全局推荐设置 */
* {
    box-sizing: border-box;
}

/* 固定宽度盒子（含padding/border） */
.box {
    width: 200px;
    padding: 20px;
    border: 2px solid #333;
    box-sizing: border-box; /* 总宽度仍为200px */
}
```

```javascript
// 获取元素尺寸
const box = document.querySelector('.box');
console.log(box.offsetWidth);  // 200（含border）
console.log(box.clientWidth);  // 196（不含border）
```

---

## 五、记忆口诀

**盒模型四层**：内容衬边框，外留边距隔
**border-box**：宽度定总宽，内减留内容
**content-box**：宽度仅内容，外加算总宽
**尺寸获取**：offset含边框，client去边框，scroll看全部