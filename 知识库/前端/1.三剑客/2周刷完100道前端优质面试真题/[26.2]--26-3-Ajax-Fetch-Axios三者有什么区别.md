# Ajax、Fetch、Axios 三者的区别

## 目录

- [核心概念](#核心概念)
- [Ajax - 技术通称](#ajax---技术通称)
- [Fetch - 原生 API](#fetch---原生-api)
- [Axios - 第三方库](#axios---第三方库)
- [三者的维度差异](#三者的维度差异)
- [XMLHttpRequest 实现 Ajax](#xmlhttprequest-实现-ajax)
- [Fetch 的优势](#fetch-的优势)
- [Axios 的特点](#axios-的特点)
- [库与 API 的区别](#库与-api-的区别)
- [实际项目建议](#实际项目建议)
- [AI 总结](#ai-总结)

## 核心概念

这是一个基础面试中非常常见的概念题。三者都与网络请求相关，但它们是**不同维度**的概念，不能简单地进行同级对比。

类似的例子：栈和队列（逻辑结构）vs 数组（物理结构），它们也是不同维度的概念。

## Ajax - 技术通称

**定义**：Ajax 是一个技术通称，全称是 Asynchronous JavaScript and XML（异步 JavaScript 和 XML）。

**历史背景**：
- 随着 Web 2.0 技术的发展而推广
- Web 1.0 时代：网页像报纸一样静态，不能点击、评论或动态获取内容
- Web 2.0 时代：出现了用户提交、论坛 BBS 等交互功能，需要 Ajax 技术来实现

**本质**：
- 它是一种技术通称，类似于"逻辑结构"这个概念
- 不是一个具体的 API 或函数
- 可以通过多种技术手段来实现网络请求

## Fetch - 原生 API

**定义**：Fetch 是浏览器原生提供的全局 API，用于网络请求。

**特点**：
- 是一个具体的函数，可以直接在浏览器控制台中调用
- 是 XMLHttpRequest 的升级版本
- 语法更加简洁、易用
- 支持 Promise，可以使用 async/await
- 是原生 API 级别的功能

**使用示例**：
```javascript
// 直接使用 Fetch
fetch(url)
  .then(response => response.json())
  .then(data => {
    // 处理数据
  });
```

## Axios - 第三方库

**定义**：Axios 是一个第三方网络请求库。

**特点**：
- 需要通过 npm 安装使用
- 在 npm 上有很大的下载量
- 随着 Vue 框架而流行起来（Vue 推荐使用）
- 可以在 Node.js 环境中使用
- 目前是最流行的网络请求库之一

**底层实现**：
- 内部可以使用 XMLHttpRequest 或 Fetch 来实现
- 作为工具库，必须依赖底层 API 的支持

**安装方式**：
```bash
npm install axios
```

## 三者的维度差异

**维度对比**：

1\. **Ajax**：技术通称（概念层面）
   - 类似于"逻辑结构"这个概念
   - 描述的是一类技术方案

2\. **Fetch**：原生 API（实现层面）
   - 浏览器提供的具体函数
   - 可以直接调用使用

3\. **Axios**：第三方库（工具层面）
   - 需要安装的工具包
   - 封装了底层 API

**关系说明**：
- Ajax 可以通过不同的 API 来实现（XMLHttpRequest、Fetch）
- Axios 需要使用 API 来实现其功能
- 它们不是同一级别的对比对象

## XMLHttpRequest 实现 Ajax

**基础实现代码**：

```javascript
function ajax1(url, successCallback) {
  // 创建 XMLHttpRequest 对象
  const xhr = new XMLHttpRequest();
  
  // 监听状态变化
  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 && xhr.status === 200) {
      successCallback(xhr.responseText);
    }
  };
  
  // 打开连接
  xhr.open('GET', url, true); // true 表示异步
  
  // 发送请求
  xhr.send();
}
```

**关键点**：
- XMLHttpRequest 是浏览器提供的全局 API
- 和 Fetch 是同一级别的 API
- 在 Fetch 出现之前，都是用这个 API 实现网络请求
- 需要监听 readyState 变化（变成 4）和 status（变成 200）

**面试题**：用 XMLHttpRequest 实现 Ajax 是一个非常基础的入门级面试题。

## Fetch 的优势

**对比 XMLHttpRequest**：

```javascript
// 使用 Fetch 实现
function ajax2(url) {
  return fetch(url)
    .then(response => response.json())
    .then(data => {
      return data;
    });
}
```

**优势**：
1. 代码更加简洁
2. 支持 Promise，可以链式调用
3. 可以使用 async/await 语法
4. 是 XMLHttpRequest 的升级版本
5. 更加现代化和易用

**注意**：
- XMLHttpRequest 仍然保留，可以继续使用
- Fetch 是后来者，功能更强大

## Axios 的特点

**与 API 的区别**：
- Fetch 和 XMLHttpRequest 是 API（原生函数）
- Axios 是库（第三方工具）

**使用场景**：
- 可以在浏览器中使用
- 可以在 Node.js 环境中使用
- Vue 项目推荐使用

**获取方式**：
- npm 官网搜索 axios
- GitHub 仓库
- 通过 npm install 安装

## 库与 API 的区别

**API（Application Programming Interface）**：
- 原生提供的函数
- 数量固定（如 XMLHttpRequest、Fetch）
- 由浏览器厂商提供

**库（Library）**：
- 第三方工具
- 可以有很多个（不止 Axios 一个）
- 用户可以自己开发和贡献
- 需要使用 API 来实现功能

**关系**：
- 库需要用 API 来实现
- API 是底层支持
- 没有底层 API，库无法实现功能

**网络请求库的多样性**：
- 网络请求的第三方库有很多个
- Axios 只是其中最流行的一个
- 用户可以搜索到成千上万个相关库
- 也可以自己开发并发布

## 实际项目建议

**使用成熟的库**：
- 实际项目中尽量使用成熟的第三方库
- 不要自己造轮子
- 成熟的库更稳定，经过用户验证

**造轮子的价值**：
- 学习时造轮子是很好的学习方式
- 可以自己实现网络请求库
- 可以自己写 Vue、jQuery 等框架
- 有助于深入理解底层原理

**区分场景**：
- 面试是面试
- 工作是工作
- 学习时可以造轮子
- 工作时用成熟方案

## AI 总结

Ajax、Fetch 和 Axios 是三个不同维度的概念：

**Ajax** 是一种技术通称，描述异步网络请求的技术方案，不是具体的 API。

**Fetch** 是浏览器原生提供的 API，是 XMLHttpRequest 的升级版，支持 Promise，语法更简洁现代。

**Axios** 是第三方网络请求库，需要通过 npm 安装，底层依赖 XMLHttpRequest 或 Fetch 实现，是目前最流行的网络请求工具。

三者的关系：Ajax 是概念，Fetch 是实现 Ajax 的原生 API，Axios 是基于 API 封装的工具库。实际项目中推荐使用成熟的第三方库，但学习时可以通过造轮子来深入理解原理。