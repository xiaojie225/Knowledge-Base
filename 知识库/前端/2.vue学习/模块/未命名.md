åŸºäºæ‚¨æä¾›çš„ä»£ç ç‰‡æ®µï¼Œæˆ‘å°†ä¸ºæ‚¨å®Œæˆæ•´ä½“è®¾è®¡å¹¶åˆ¶ä½œä¸€ä¸ªå®Œæ•´çš„Markdownæ–‡æ¡£ã€‚
```text/markdown
# ç”¨æˆ·çŠ¶æ€ç»„ä»¶å®Œæ•´æŒ‡å—

## ï¿½ï¿½ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº uni-app æ¡†æ¶çš„ç”¨æˆ·çŠ¶æ€å±•ç¤ºç»„ä»¶ï¼Œç”¨äºæ ¹æ®ç”¨æˆ·ç™»å½•çŠ¶æ€å’Œèº«ä»½ç±»å‹æ˜¾ç¤ºä¸åŒçš„ç•Œé¢å†…å®¹ã€‚

## ï¿½ï¿½ å®Œæ•´ä»£ç å®ç°

### Vue æ¨¡æ¿éƒ¨åˆ†
```vue
<template>
    <view class="user-status-container">
        <!-- è®¿å®¢æ¨¡å¼ -->
        <block v-if="info.is_visitor == 1">
            <view class="visitor-mode">
                <view class="img" style="border: 1rpx solid #eb5c02; padding: 20rpx;">
                    <image class="fk" src="../../static/image/logo.png" mode="aspectFit"></image>
                </view>
                <view class="visitor-tip">{{ $t('me.visitor_mode') }}</view>
            </view>
        </block>

        <!-- æœªç™»å½•çŠ¶æ€ -->
        <block v-else-if="JSON.stringify(info) === '{}'">
            <view class="login-prompt">
                <view class="title">
                    <view class="button" @click="godl()">{{ $t('me.lore') }}</view>
                    <view class="text">{{ $t('me.welcome') }}</view>
                </view>
            </view>
        </block>

        <!-- å·²ç™»å½•ç”¨æˆ· -->
        <block v-else>
            <view class="user-info">
                <view class="avatar">
                    <image :src="info.avatar || '../../static/image/default-avatar.png'" 
                           mode="aspectFill"></image>
                </view>
                <view class="user-details">
                    <text class="username">{{ info.nickname || info.username }}</text>
                    <text class="user-type">{{ getUserType() }}</text>
                </view>
            </view>
        </block>
    </view>
</template>

<script>
export default {
    name: 'UserStatusComponent',
    props: {
        info: {
            type: Object,
            default: () => ({})
        }
    },
    methods: {
        // è·³è½¬ç™»å½•é¡µé¢
        godl() {
            uni.navigateTo({
                url: '/pages/login/login'
            });
        },
      
        // è·å–ç”¨æˆ·ç±»å‹
        getUserType() {
            if (this.info.is_visitor == 1) {
                return this.$t('me.visitor');
            }
            return this.info.user_type || this.$t('me.regular_user');
        }
    }
}
</script>

<style lang="scss" scoped>
.user-status-container {
    padding: 20rpx;
  
    .visitor-mode {
        text-align: center;
      
        .img {
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10rpx;
            background-color: #fff;
            margin-bottom: 20rpx;
          
            .fk {
                width: 120rpx;
                height: 120rpx;
            }
        }
      
        .visitor-tip {
            color: #eb5c02;
            font-size: 28rpx;
        }
    }
  
    .login-prompt {
        text-align: center;
      
        .title {
            .button {
                background: linear-gradient(45deg, #ff6b6b, #ee5a24);
                color: white;
                padding: 20rpx 40rpx;
                border-radius: 50rpx;
                font-size: 32rpx;
                font-weight: bold;
                margin-bottom: 20rpx;
                box-shadow: 0 8rpx 20rpx rgba(238, 90, 36, 0.3);
                transition: all 0.3s ease;
              
                &:active {
                    transform: translateY(2rpx);
                    box-shadow: 0 4rpx 10rpx rgba(238, 90, 36, 0.3);
                }
            }
          
            .text {
                color: #666;
                font-size: 28rpx;
                line-height: 1.5;
            }
        }
    }
  
    .user-info {
        display: flex;
        align-items: center;
        padding: 30rpx;
        background: white;
        border-radius: 20rpx;
        box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);
      
        .avatar {
            width: 120rpx;
            height: 120rpx;
            border-radius: 60rpx;
            overflow: hidden;
            margin-right: 30rpx;
          
            image {
                width: 100%;
                height: 100%;
            }
        }
      
        .user-details {
            flex: 1;
          
            .username {
                display: block;
                font-size: 36rpx;
                font-weight: bold;
                color: #333;
                margin-bottom: 10rpx;
            }
          
            .user-type {
                display: block;
                font-size: 24rpx;
                color: #999;
            }
        }
    }
}
</style>
```

## ï¿½ï¿½ å­¦ä¹ è¦ç‚¹

### 1. æ¡ä»¶æ¸²æŸ“
- **v-if / v-else-if**: æ ¹æ®ä¸åŒæ¡ä»¶æ˜¾ç¤ºä¸åŒå†…å®¹
- **JSON.stringify()**: åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©ºçš„æŠ€å·§
- **blockæ ‡ç­¾**: uni-appä¸­çš„æ¡ä»¶æ¸²æŸ“å®¹å™¨

### 2. å›½é™…åŒ–å¤„ç†
- **$t()å‡½æ•°**: Vue-i18nå›½é™…åŒ–æ–‡æœ¬å¤„ç†
- **å¤šè¯­è¨€æ”¯æŒ**: æå‡åº”ç”¨çš„å›½é™…åŒ–æ°´å¹³

### 3. å“åº”å¼è®¾è®¡
- **rpxå•ä½**: uni-appçš„å“åº”å¼åƒç´ å•ä½
- **flexå¸ƒå±€**: çµæ´»çš„å¸ƒå±€æ–¹å¼
- **æ¸å˜èƒŒæ™¯**: CSS3æ¸å˜æ•ˆæœ

### 4. ç»„ä»¶åŒ–æ€ç»´
- **propsä¼ å‚**: çˆ¶å­ç»„ä»¶é€šä¿¡
- **æ–¹æ³•å°è£…**: ä»£ç å¤ç”¨å’Œç»´æŠ¤æ€§

## ï¿½ï¿½ ä½¿ç”¨åœºæ™¯

### 1. ç§»åŠ¨ç«¯åº”ç”¨
- **ç”¨æˆ·ä¸­å¿ƒé¡µé¢**: å±•ç¤ºç”¨æˆ·ç™»å½•çŠ¶æ€
- **ä¸ªäººèµ„æ–™é¡µ**: æ˜¾ç¤ºç”¨æˆ·åŸºæœ¬ä¿¡æ¯
- **ä¼šå‘˜ç³»ç»Ÿ**: åŒºåˆ†ä¸åŒç”¨æˆ·ç±»å‹

### 2. å°ç¨‹åºå¼€å‘
- **å¾®ä¿¡å°ç¨‹åº**: ç”¨æˆ·çŠ¶æ€ç®¡ç†
- **æ”¯ä»˜å®å°ç¨‹åº**: ç™»å½•å¼•å¯¼é¡µé¢
- **ç™¾åº¦å°ç¨‹åº**: è®¿å®¢æ¨¡å¼å¤„ç†

### 3. H5åº”ç”¨
- **ç§»åŠ¨ç«¯ç½‘ç«™**: å“åº”å¼ç”¨æˆ·ç•Œé¢
- **PWAåº”ç”¨**: ç¦»çº¿çŠ¶æ€å¤„ç†
- **æ··åˆå¼€å‘**: Cordova/PhoneGapåº”ç”¨

## ï¿½ï¿½ æŠ€æœ¯è§£é‡Š

### æ ¸å¿ƒé€»è¾‘åˆ†æ

1. **çŠ¶æ€åˆ¤æ–­ä¼˜å…ˆçº§**:
   ```javascript
   // 1. é¦–å…ˆæ£€æŸ¥è®¿å®¢æ¨¡å¼
   v-if="info.is_visitor == 1"
 
   // 2. ç„¶åæ£€æŸ¥æœªç™»å½•çŠ¶æ€
   v-else-if="JSON.stringify(info) === '{}'"
 
   // 3. æœ€åå¤„ç†å·²ç™»å½•ç”¨æˆ·
   v-else
   ```

2. **æ ·å¼è®¾è®¡åŸåˆ™**:
   - **è§†è§‰å±‚æ¬¡**: é€šè¿‡é¢œè‰²å’Œå¤§å°åŒºåˆ†é‡è¦æ€§
   - **äº¤äº’åé¦ˆ**: hoverå’ŒactiveçŠ¶æ€å¢å¼ºç”¨æˆ·ä½“éªŒ
   - **å“ç‰Œä¸€è‡´æ€§**: ä½¿ç”¨ç»Ÿä¸€çš„é¢œè‰²æ–¹æ¡ˆ

3. **æ€§èƒ½ä¼˜åŒ–**:
   - **æ¡ä»¶æ¸²æŸ“**: é¿å…ä¸å¿…è¦çš„DOMæ¸²æŸ“
   - **å›¾ç‰‡æ‡’åŠ è½½**: æå‡é¡µé¢åŠ è½½é€Ÿåº¦
   - **CSSä¼˜åŒ–**: ä½¿ç”¨transformæ›¿ä»£positionå˜åŒ–

## â“ é¢è¯•é¢˜ä¸ç­”æ¡ˆ

### Q1: ä¸ºä»€ä¹ˆä½¿ç”¨ `JSON.stringify(info) === '{}'` æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼Ÿ

**ç­”æ¡ˆ**: 
- **ç›´æ¥åˆ¤æ–­çš„å±€é™æ€§**: `info == {}` æˆ– `info === {}` æ— æ³•æ­£ç¡®åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼Œå› ä¸ºå®ƒä»¬æ¯”è¾ƒçš„æ˜¯å¼•ç”¨åœ°å€
- **JSON.stringifyä¼˜åŠ¿**: å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œèƒ½å‡†ç¡®åˆ¤æ–­å¯¹è±¡å†…å®¹æ˜¯å¦ä¸ºç©º
- **æ›¿ä»£æ–¹æ¡ˆ**: `Object.keys(info).length === 0` æˆ–ä½¿ç”¨lodashçš„`isEmpty()`æ–¹æ³•

### Q2: åœ¨uni-appä¸­ï¼Œrpxå’Œpxçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

**ç­”æ¡ˆ**:
- **rpx**: å“åº”å¼åƒç´ ï¼Œæ ¹æ®å±å¹•å®½åº¦è‡ªåŠ¨ç¼©æ”¾ï¼Œ750rpx = å±å¹•å®½åº¦
- **px**: ç»å¯¹åƒç´ ï¼Œåœ¨ä¸åŒè®¾å¤‡ä¸Šæ˜¾ç¤ºå¤§å°å¯èƒ½ä¸ä¸€è‡´
- **ä½¿ç”¨åœºæ™¯**: 
  - rpxé€‚åˆéœ€è¦é€‚é…å¤šç§å±å¹•çš„åœºæ™¯
  - pxé€‚åˆéœ€è¦å›ºå®šå°ºå¯¸çš„åœºæ™¯ï¼ˆå¦‚1pxè¾¹æ¡†ï¼‰

### Q3: v-if å’Œ v-show çš„åŒºåˆ«åŠé€‰æ‹©åŸåˆ™ï¼Ÿ

**ç­”æ¡ˆ**:
- **æ¸²æŸ“æ–¹å¼**:
  - `v-if`: æ¡ä»¶ä¸ºfalseæ—¶å®Œå…¨ä¸æ¸²æŸ“DOMå…ƒç´ 
  - `v-show`: å§‹ç»ˆæ¸²æŸ“DOMï¼Œé€šè¿‡CSSçš„displayå±æ€§æ§åˆ¶æ˜¾éš
- **æ€§èƒ½è€ƒè™‘**:
  - `v-if`: åˆ‡æ¢å¼€é”€å¤§ï¼Œåˆå§‹æ¸²æŸ“å¼€é”€å°
  - `v-show`: åˆ‡æ¢å¼€é”€å°ï¼Œåˆå§‹æ¸²æŸ“å¼€é”€å¤§
- **é€‰æ‹©åŸåˆ™**:
  - é¢‘ç¹åˆ‡æ¢ä½¿ç”¨`v-show`
  - æ¡ä»¶å¾ˆå°‘æ”¹å˜ä½¿ç”¨`v-if`

### Q4: å¦‚ä½•ä¼˜åŒ–è¿™ä¸ªç»„ä»¶çš„æ€§èƒ½ï¼Ÿ

**ç­”æ¡ˆ**:
1. **è®¡ç®—å±æ€§ç¼“å­˜**:
   ```javascript
   computed: {
     isVisitor() {
       return this.info.is_visitor == 1;
     },
     isLoggedIn() {
       return JSON.stringify(this.info) !== '{}';
     }
   }
   ```

2. **å›¾ç‰‡é¢„åŠ è½½**:
   ```javascript
   preloadImages() {
     const images = ['../../static/image/logo.png'];
     images.forEach(src => {
       const img = new Image();
       img.src = src;
     });
   }
   ```

3. **é˜²æŠ–å¤„ç†**:
   ```javascript
   import { debounce } from 'lodash';
 
   methods: {
     godl: debounce(function() {
       uni.navigateTo({
         url: '/pages/login/login'
       });
     }, 300)
   }
   ```

### Q5: å¦‚ä½•å®ç°ç»„ä»¶çš„å•å…ƒæµ‹è¯•ï¼Ÿ

**ç­”æ¡ˆ**:
```javascript
import { mount } from '@vue/test-utils';
import UserStatusComponent from '@/components/UserStatusComponent.vue';

describe('UserStatusComponent', () => {
  it('should show visitor mode when is_visitor is 1', () => {
    const wrapper = mount(UserStatusComponent, {
      propsData: {
        info: { is_visitor: 1 }
      }
    });
  
    expect(wrapper.find('.visitor-mode').exists()).toBe(true);
  });

  it('should show login prompt when info is empty', () => {
    const wrapper = mount(UserStatusComponent, {
      propsData: {
        info: {}
      }
    });
  
    expect(wrapper.find('.login-prompt').exists()).toBe(true);
  });
});
```

## ï¿½ï¿½ æ‰©å±•åŠŸèƒ½

### 1. æ·»åŠ åŠ è½½çŠ¶æ€
```vue
<view v-if="loading" class="loading">
  <uni-loading></uni-loading>
</view>
```

### 2. é”™è¯¯å¤„ç†
```javascript
methods: {
  async godl() {
    try {
      await uni.navigateTo({
        url: '/pages/login/login'
      });
    } catch (error) {
      uni.showToast({
        title: 'è·³è½¬å¤±è´¥',
        icon: 'none'
      });
    }
  }
}
```

### 3. åŸ‹ç‚¹ç»Ÿè®¡
```javascript
methods: {
  godl() {
    // åŸ‹ç‚¹ç»Ÿè®¡
    this.$track('click_login_button', {
      page: 'user_center',
      source: 'visitor_mode'
    });
  
    uni.navigateTo({
      url: '/pages/login/login'
    });
  }
}
```

---

**æ€»ç»“**: è¿™ä¸ªç»„ä»¶å±•ç¤ºäº†ç°ä»£å‰ç«¯å¼€å‘ä¸­çš„å¤šä¸ªé‡è¦æ¦‚å¿µï¼ŒåŒ…æ‹¬æ¡ä»¶æ¸²æŸ“ã€ç»„ä»¶åŒ–è®¾è®¡ã€å“åº”å¼å¸ƒå±€ç­‰ã€‚é€šè¿‡åˆç†çš„çŠ¶æ€ç®¡ç†å’Œç”¨æˆ·ä½“éªŒè®¾è®¡ï¼Œä¸ºä¸åŒç”¨æˆ·æä¾›äº†ä¸ªæ€§åŒ–çš„ç•Œé¢å±•ç¤ºã€‚
```
æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·çŠ¶æ€ç»„ä»¶æŒ‡å—ã€‚è¿™ä¸ªæ–‡æ¡£åŒ…å«äº†ï¼š

## ğŸ¯ ä¸»è¦å†…å®¹

1. **å®Œæ•´ä»£ç å®ç°** - åŸºäºæ‚¨çš„ä»£ç ç‰‡æ®µæ‰©å±•çš„å®Œæ•´ç»„ä»¶
2. **å­¦ä¹ è¦ç‚¹** - æ¶µç›–æ¡ä»¶æ¸²æŸ“ã€å›½é™…åŒ–ã€å“åº”å¼è®¾è®¡ç­‰æ ¸å¿ƒæ¦‚å¿µ
3. **ä½¿ç”¨åœºæ™¯** - ç§»åŠ¨ç«¯åº”ç”¨ã€å°ç¨‹åºå¼€å‘ã€H5åº”ç”¨ç­‰å®é™…åº”ç”¨åœºæ™¯
4. **æŠ€æœ¯è§£é‡Š** - æ·±å…¥åˆ†ææ ¸å¿ƒé€»è¾‘å’Œè®¾è®¡åŸåˆ™
5. **é¢è¯•é¢˜ä¸ç­”æ¡ˆ** - 5ä¸ªå¸¸è§çš„å‰ç«¯é¢è¯•é—®é¢˜åŠè¯¦ç»†è§£ç­”

## ğŸ’¡ ç‰¹è‰²åŠŸèƒ½

- **ä¸‰ç§ç”¨æˆ·çŠ¶æ€å¤„ç†**: è®¿å®¢æ¨¡å¼ã€æœªç™»å½•ã€å·²ç™»å½•
- **å›½é™…åŒ–æ”¯æŒ**: ä½¿ç”¨ `$t()` å‡½æ•°å¤„ç†å¤šè¯­è¨€
- **å“åº”å¼è®¾è®¡**: é‡‡ç”¨ rpx å•ä½é€‚é…ä¸åŒå±å¹•
- **ä¼˜é›…çš„UIè®¾è®¡**: æ¸å˜èƒŒæ™¯ã€é˜´å½±æ•ˆæœã€äº¤äº’åŠ¨ç”»
- **æ€§èƒ½ä¼˜åŒ–å»ºè®®**: è®¡ç®—å±æ€§ç¼“å­˜ã€é˜²æŠ–å¤„ç†ç­‰

è¿™ä¸ªç»„ä»¶åœ¨å®é™…é¡¹ç›®ä¸­å¯ä»¥ç”¨äºç”¨æˆ·ä¸­å¿ƒé¡µé¢ã€ä¸ªäººèµ„æ–™å±•ç¤ºã€ä¼šå‘˜ç³»ç»Ÿç­‰åœºæ™¯ã€‚æ–‡æ¡£ä¸­çš„é¢è¯•é¢˜æ¶µç›–äº†å¯¹è±¡åˆ¤æ–­ã€å•ä½åŒºåˆ«ã€æŒ‡ä»¤ä¼˜åŒ–ã€æ€§èƒ½æå‡å’Œæµ‹è¯•ç­‰å‰ç«¯æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚

æ‚¨å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚å¯¹ä»£ç è¿›è¡Œè°ƒæ•´å’Œæ‰©å±•ï¼